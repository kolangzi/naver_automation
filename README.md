# 네이버 서로이웃 매니저

네이버 블로그 서로이웃 자동 신청 + AI 댓글/대댓글 작성 GUI 도구

## 주요 기능

### 기능 1: 서로이웃 신청
공감 계정 중 이웃추가 가능한 계정에 자동으로 서로이웃 신청합니다.

### 기능 2: 서로이웃 댓글
내 서로이웃 관리 페이지에서 이웃을 수집하여, 기준 날짜 조건에 맞는 이웃의 최신글에 공감 + AI 댓글을 자동으로 남깁니다.

### 기능 3: 대댓글
내 블로그 글에 다른 사람들이 남긴 댓글에 AI 대댓글을 자동으로 남깁니다.

## 요구사항

- macOS 10.15 (Catalina) 이상
- Python 3.8 이상
- 인터넷 연결
- Gemini API 키 (기능 2, 3 사용 시 필수)

## 설치 및 실행

```bash
# 1. 설치 (최초 1회)
./install.sh

# 2. 실행
./run.sh
```

### 수동 설치 (install.sh가 안 될 경우)

```bash
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
playwright install chromium
python main.py
```

## 사용법

### 기능 1: 서로이웃 신청

1. **블로그 URL**: 공감 계정을 추출할 네이버 블로그 글 주소 입력
   - 예: `https://blog.naver.com/username/123456789`
2. **네이버 ID**: 네이버 아이디 입력 (로그인 페이지에 자동 입력됨)
3. **서로이웃 메시지**: 서로이웃 신청 시 전달할 메시지 (커스텀 가능)
4. **최대 신청 수**: 서로이웃 신청 최대 인원 (기본값/최대값: 100)
5. **[시작]** 버튼 클릭 → 브라우저에서 비밀번호 입력 후 로그인 (3분 이내)

### 기능 2: 서로이웃 댓글

1. **네이버 ID**: 네이버 아이디 입력
2. **Gemini API 키**: AI 댓글 생성에 필수
3. **그룹 이름**: 서로이웃 그룹 이름 (기본값: 이웃1)
4. **정렬 기준**: 업데이트순 또는 이웃추가순 선택
   - **업데이트순**: 최근 글 날짜로 기준 날짜 필터링
   - **이웃추가순**: 이웃추가일로 기준 날짜 필터링
5. **기준 날짜**: 선택한 정렬 기준에 따라 필터링할 날짜 (기본값: 오늘)
6. **[시작]** 버튼 클릭 → 브라우저에서 비밀번호 입력 후 로그인 (3분 이내)

### 기능 3: 대댓글

1. **네이버 ID**: 네이버 아이디 입력
2. **Gemini API 키**: AI 대댓글 생성에 필수
3. **기준 날짜**: 이 날짜 이후의 글만 대상 (기본값: 오늘)
4. **[시작]** 버튼 클릭 → 브라우저에서 비밀번호 입력 후 로그인 (3분 이내)

## 동작 방식

### 기능 1: 서로이웃 신청

1. 네이버 로그인 (아이디 자동 입력 → 비밀번호 수동 입력, 3분 이내)
2. 블로그 글에 공감(하트) 클릭 (이미 공감한 경우 스킵)
3. 공감 히스토리 페이지에서 이웃추가 가능한 계정 추출 (페이지네이션 자동 처리)
4. 각 계정에 서로이웃 신청 — 실제 성공 수가 설정한 최대 신청 수에 도달하면 종료 (스킵된 계정 제외)

### 기능 2: 서로이웃 댓글

1. 네이버 로그인 (아이디 자동 입력 → 비밀번호 수동 입력, 3분 이내)
2. 서로이웃 관리 페이지 접속
3. 지정한 그룹 선택 → 선택한 정렬 기준으로 정렬
4. 기준 날짜 조건에 맞는 이웃 목록 수집 (조기 종료)
5. 각 이웃의 최신 글 방문
6. 공감(하트) 클릭
7. 이미 내 댓글이 있으면 스킵
8. AI로 글 맥락에 맞는 댓글 생성 → 등록
9. AI 실패 시 보류 목록에 추가 → 메인 완료 후 보류 건 재시도

### 기능 3: 대댓글

1. 네이버 로그인 (아이디 자동 입력 → 비밀번호 수동 입력, 3분 이내)
2. 내 블로그 PostList 접속
3. 기준 날짜 이후의 글 수집 (페이지네이션 자동 처리, 조기 종료)
4. 각 글 방문 → 댓글 로드
5. 이미 답글 남긴 댓글은 스킵
6. AI로 글 내용 + 댓글 내용을 분석하여 맥락에 맞는 대댓글 생성 → 등록
7. 댓글 다중 페이지 자동 처리
8. AI 실패 시 보류 목록에 추가 → 메인 완료 후 글 페이지 재접속하여 보류 건 재시도

## Gemini API 키 발급

1. https://aistudio.google.com/apikey 접속
2. Google 계정 로그인
3. "Create API Key" 클릭
4. 발급된 키를 프로그램의 "Gemini API 키" 필드에 입력

## 주의사항

- 네이버 이용약관을 준수하여 사용하세요
- 과도한 사용 시 계정 제재가 있을 수 있습니다
- 캡차 발생 시 수동으로 처리해주세요
- 사람처럼 보이도록 랜덤 딜레이가 포함되어 있습니다
- 글 페이지 접속 시 본문 길이에 비례한 체류 시간이 자동으로 적용됩니다
- 계정별 브라우저 프로필이 `~/.naver_automation/profiles/` 에 저장되어, 쿠키/세션이 유지됩니다
- AI 댓글/대댓글 생성 실패 시 보류 목록에 추가 후 마지막에 재시도합니다
- AI 모델: gemini-2.5-flash 사용
